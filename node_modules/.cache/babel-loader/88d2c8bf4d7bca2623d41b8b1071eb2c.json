{"ast":null,"code":"/*\n Highcharts JS v9.3.1 (2021-11-05)\n\n Sankey diagram module\n\n (c) 2010-2021 Torstein Honsi\n\n License: www.highcharts.com/license\n*/\n'use strict';\n\n(function (c) {\n  \"object\" === typeof module && module.exports ? (c[\"default\"] = c, module.exports = c) : \"function\" === typeof define && define.amd ? define(\"highcharts/modules/sankey\", [\"highcharts\"], function (n) {\n    c(n);\n    c.Highcharts = n;\n    return c;\n  }) : c(\"undefined\" !== typeof Highcharts ? Highcharts : void 0);\n})(function (c) {\n  function n(c, e, k, l) {\n    c.hasOwnProperty(e) || (c[e] = l.apply(null, k));\n  }\n\n  c = c ? c._modules : {};\n  n(c, \"Series/NodesComposition.js\", [c[\"Core/Series/Point.js\"], c[\"Core/Series/Series.js\"], c[\"Core/Utilities.js\"]], function (c, e, k) {\n    var l = k.defined,\n        u = k.extend,\n        w = k.find,\n        d = k.pick,\n        a;\n\n    (function (a) {\n      function b() {\n        this.data = [].concat(this.points || [], this.nodes);\n        return e.prototype.destroy.apply(this, arguments);\n      }\n\n      function q() {\n        this.nodes && (this.nodes.forEach(function (b) {\n          b.destroy();\n        }), this.nodes.length = 0);\n        e.prototype.setData.apply(this, arguments);\n      }\n\n      function m(b) {\n        var a = arguments,\n            f = this.isNode ? this.linksTo.concat(this.linksFrom) : [this.fromNode, this.toNode];\n        \"select\" !== b && f.forEach(function (b) {\n          b && b.series && (c.prototype.setState.apply(b, a), b.isNode || (b.fromNode.graphic && c.prototype.setState.apply(b.fromNode, a), b.toNode && b.toNode.graphic && c.prototype.setState.apply(b.toNode, a)));\n        });\n        c.prototype.setState.apply(this, a);\n      }\n\n      var x = [];\n\n      a.compose = function (a, c) {\n        -1 === x.indexOf(a) && (x.push(a), a = a.prototype, a.setNodeState = m, a.setState = m);\n        -1 === x.indexOf(c) && (x.push(c), a = c.prototype, a.destroy = b, a.setData = q);\n        return c;\n      };\n\n      a.createNode = function (b) {\n        var a = this.pointClass,\n            f = function (b, a) {\n          return w(b, function (b) {\n            return b.id === a;\n          });\n        },\n            g = f(this.nodes, b);\n\n        g || (f = this.options.nodes && f(this.options.nodes, b), g = new a().init(this, u({\n          className: \"highcharts-node\",\n          isNode: !0,\n          id: b,\n          y: 1\n        }, f)), g.linksTo = [], g.linksFrom = [], g.formatPrefix = \"node\", g.name = g.name || g.options.id || \"\", g.mass = d(g.options.mass, g.options.marker && g.options.marker.radius, this.options.marker && this.options.marker.radius, 4), g.getSum = function () {\n          var b = 0,\n              a = 0;\n          g.linksTo.forEach(function (a) {\n            b += a.weight;\n          });\n          g.linksFrom.forEach(function (b) {\n            a += b.weight;\n          });\n          return Math.max(b, a);\n        }, g.offset = function (b, a) {\n          for (var f = 0, h = 0; h < g[a].length; h++) {\n            if (g[a][h] === b) return f;\n            f += g[a][h].weight;\n          }\n        }, g.hasShape = function () {\n          var b = 0;\n          g.linksTo.forEach(function (a) {\n            a.outgoing && b++;\n          });\n          return !g.linksTo.length || b !== g.linksTo.length;\n        }, this.nodes.push(g));\n        return g;\n      };\n\n      a.destroy = b;\n\n      a.generatePoints = function () {\n        var b = this.chart,\n            a = {};\n        e.prototype.generatePoints.call(this);\n        this.nodes || (this.nodes = []);\n        this.colorCounter = 0;\n        this.nodes.forEach(function (b) {\n          b.linksFrom.length = 0;\n          b.linksTo.length = 0;\n          b.level = b.options.level;\n        });\n        this.points.forEach(function (f) {\n          l(f.from) && (a[f.from] || (a[f.from] = this.createNode(f.from)), a[f.from].linksFrom.push(f), f.fromNode = a[f.from], b.styledMode ? f.colorIndex = d(f.options.colorIndex, a[f.from].colorIndex) : f.color = f.options.color || a[f.from].color);\n          l(f.to) && (a[f.to] || (a[f.to] = this.createNode(f.to)), a[f.to].linksTo.push(f), f.toNode = a[f.to]);\n          f.name = f.name || f.id;\n        }, this);\n        this.nodeLookup = a;\n      };\n\n      a.setNodeState = m;\n    })(a || (a = {}));\n\n    return a;\n  });\n  n(c, \"Series/Sankey/SankeyPoint.js\", [c[\"Core/Series/Point.js\"], c[\"Core/Series/SeriesRegistry.js\"], c[\"Core/Utilities.js\"]], function (c, e, k) {\n    var l = this && this.__extends || function () {\n      var c = function (d, a) {\n        c = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (a, b) {\n          a.__proto__ = b;\n        } || function (a, b) {\n          for (var c in b) b.hasOwnProperty(c) && (a[c] = b[c]);\n        };\n\n        return c(d, a);\n      };\n\n      return function (d, a) {\n        function e() {\n          this.constructor = d;\n        }\n\n        c(d, a);\n        d.prototype = null === a ? Object.create(a) : (e.prototype = a.prototype, new e());\n      };\n    }(),\n        u = k.defined;\n\n    return function (e) {\n      function d() {\n        var a = null !== e && e.apply(this, arguments) || this;\n        a.className = void 0;\n        a.fromNode = void 0;\n        a.level = void 0;\n        a.linkBase = void 0;\n        a.linksFrom = void 0;\n        a.linksTo = void 0;\n        a.mass = void 0;\n        a.nodeX = void 0;\n        a.nodeY = void 0;\n        a.options = void 0;\n        a.series = void 0;\n        a.toNode = void 0;\n        return a;\n      }\n\n      l(d, e);\n\n      d.prototype.applyOptions = function (a, d) {\n        c.prototype.applyOptions.call(this, a, d);\n        u(this.options.level) && (this.options.column = this.column = this.options.level);\n        return this;\n      };\n\n      d.prototype.getClassName = function () {\n        return (this.isNode ? \"highcharts-node \" : \"highcharts-link \") + c.prototype.getClassName.call(this);\n      };\n\n      d.prototype.isValid = function () {\n        return this.isNode || \"number\" === typeof this.weight;\n      };\n\n      return d;\n    }(e.seriesTypes.column.prototype.pointClass);\n  });\n  n(c, \"Series/TreeUtilities.js\", [c[\"Core/Color/Color.js\"], c[\"Core/Utilities.js\"]], function (c, e) {\n    function k(b, a) {\n      var c = a.before,\n          d = a.idRoot,\n          e = a.mapIdToNode[d],\n          q = a.points[b.i],\n          f = q && q.options || {},\n          g = [],\n          t = 0;\n      b.levelDynamic = b.level - (!1 !== a.levelIsConstant ? 0 : e.level);\n      b.name = m(q && q.name, \"\");\n      b.visible = d === b.id || !0 === a.visible;\n      \"function\" === typeof c && (b = c(b, a));\n      b.children.forEach(function (c, f) {\n        var h = l({}, a);\n        l(h, {\n          index: f,\n          siblings: b.children.length,\n          visible: b.visible\n        });\n        c = k(c, h);\n        g.push(c);\n        c.visible && (t += c.val);\n      });\n      c = m(f.value, t);\n      b.visible = 0 <= c && (0 < t || b.visible);\n      b.children = g;\n      b.childrenTotal = t;\n      b.isLeaf = b.visible && !t;\n      b.val = c;\n      return b;\n    }\n\n    var l = e.extend,\n        u = e.isArray,\n        w = e.isNumber,\n        d = e.isObject,\n        a = e.merge,\n        m = e.pick;\n    return {\n      getColor: function (b, a) {\n        var d = a.index,\n            e = a.mapOptionsToLevel,\n            q = a.parentColor,\n            k = a.parentColorIndex,\n            f = a.series,\n            g = a.colors,\n            t = a.siblings,\n            y = f.points,\n            A = f.chart.options.chart,\n            h;\n\n        if (b) {\n          y = y[b.i];\n          b = e[b.level] || {};\n\n          if (e = y && b.colorByPoint) {\n            var v = y.index % (g ? g.length : A.colorCount);\n            var G = g && g[v];\n          }\n\n          if (!f.chart.styledMode) {\n            g = y && y.options.color;\n            A = b && b.color;\n            if (h = q) h = (h = b && b.colorVariation) && \"brightness\" === h.key && d && t ? c.parse(q).brighten(d / t * h.to).get() : q;\n            h = m(g, A, G, h, f.color);\n          }\n\n          var B = m(y && y.options.colorIndex, b && b.colorIndex, v, k, a.colorIndex);\n        }\n\n        return {\n          color: h,\n          colorIndex: B\n        };\n      },\n      getLevelOptions: function (b) {\n        var c = null;\n\n        if (d(b)) {\n          c = {};\n          var e = w(b.from) ? b.from : 1;\n          var k = b.levels;\n          var l = {};\n          var n = d(b.defaults) ? b.defaults : {};\n          u(k) && (l = k.reduce(function (b, c) {\n            if (d(c) && w(c.level)) {\n              var f = a({}, c);\n              var g = m(f.levelIsConstant, n.levelIsConstant);\n              delete f.levelIsConstant;\n              delete f.level;\n              c = c.level + (g ? 0 : e - 1);\n              d(b[c]) ? a(!0, b[c], f) : b[c] = f;\n            }\n\n            return b;\n          }, {}));\n          k = w(b.to) ? b.to : 1;\n\n          for (b = 0; b <= k; b++) c[b] = a({}, n, d(l[b]) ? l[b] : {});\n        }\n\n        return c;\n      },\n      setTreeValues: k,\n      updateRootId: function (b) {\n        if (d(b)) {\n          var a = d(b.options) ? b.options : {};\n          a = m(b.rootNode, a.rootId, \"\");\n          d(b.userOptions) && (b.userOptions.rootId = a);\n          b.rootNode = a;\n        }\n\n        return a;\n      }\n    };\n  });\n  n(c, \"Series/Sankey/SankeySeries.js\", [c[\"Core/Color/Color.js\"], c[\"Core/Globals.js\"], c[\"Series/NodesComposition.js\"], c[\"Series/Sankey/SankeyPoint.js\"], c[\"Core/Series/SeriesRegistry.js\"], c[\"Series/TreeUtilities.js\"], c[\"Core/Utilities.js\"]], function (c, e, k, l, n, w, d) {\n    var a = this && this.__extends || function () {\n      var b = function (a, h) {\n        b = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (h, b) {\n          h.__proto__ = b;\n        } || function (h, b) {\n          for (var a in b) b.hasOwnProperty(a) && (h[a] = b[a]);\n        };\n\n        return b(a, h);\n      };\n\n      return function (a, h) {\n        function c() {\n          this.constructor = a;\n        }\n\n        b(a, h);\n        a.prototype = null === h ? Object.create(h) : (c.prototype = h.prototype, new c());\n      };\n    }(),\n        m = n.series,\n        b = n.seriesTypes.column,\n        q = w.getLevelOptions,\n        u = d.defined;\n\n    w = d.extend;\n    var x = d.find,\n        C = d.isObject,\n        D = d.merge,\n        f = d.pick,\n        g = d.relativeLength,\n        t = d.stableSort;\n\n    d = function (d) {\n      function e() {\n        var b = null !== d && d.apply(this, arguments) || this;\n        b.colDistance = void 0;\n        b.data = void 0;\n        b.group = void 0;\n        b.nodeLookup = void 0;\n        b.nodePadding = void 0;\n        b.nodes = void 0;\n        b.nodeWidth = void 0;\n        b.options = void 0;\n        b.points = void 0;\n        b.translationFactor = void 0;\n        return b;\n      }\n\n      a(e, d);\n\n      e.getDLOptions = function (b) {\n        var a = C(b.optionsPoint) ? b.optionsPoint.dataLabels : {};\n        b = C(b.level) ? b.level.dataLabels : {};\n        return D({\n          style: {}\n        }, b, a);\n      };\n\n      e.prototype.createNodeColumn = function () {\n        var b = this,\n            a = this.chart,\n            c = [];\n\n        c.sum = function () {\n          return this.reduce(function (b, a) {\n            return b + a.getSum();\n          }, 0);\n        };\n\n        c.offset = function (h, f) {\n          for (var v = 0, r, d = b.nodePadding, p = 0; p < c.length; p++) {\n            r = c[p].getSum();\n            var e = Math.max(r * f, b.options.minLinkWidth),\n                B = h.options[a.inverted ? \"offsetHorizontal\" : \"offsetVertical\"],\n                G = h.options.offset || 0;\n            r = r ? e + d : 0;\n            if (c[p] === h) return {\n              relativeTop: v + (u(B) ? g(B, e) : g(G, r))\n            };\n            v += r;\n          }\n        };\n\n        c.top = function (h) {\n          var c = b.nodePadding,\n              f = this.reduce(function (a, f) {\n            0 < a && (a += c);\n            f = Math.max(f.getSum() * h, b.options.minLinkWidth);\n            return a + f;\n          }, 0);\n          return (a.plotSizeY - f) / 2;\n        };\n\n        return c;\n      };\n\n      e.prototype.createNodeColumns = function () {\n        var b = [];\n        this.nodes.forEach(function (a) {\n          var c = -1;\n          if (!u(a.options.column)) if (0 === a.linksTo.length) a.column = 0;else {\n            for (var h = 0; h < a.linksTo.length; h++) {\n              var f = a.linksTo[h];\n\n              if (f.fromNode.column > c && f.fromNode !== a) {\n                var d = f.fromNode;\n                c = d.column;\n              }\n            }\n\n            a.column = c + 1;\n\n            if (d && \"hanging\" === d.options.layout) {\n              a.hangsFrom = d;\n              var v = -1;\n              x(d.linksFrom, function (b, c) {\n                (b = b.toNode === a) && (v = c);\n                return b;\n              });\n              a.column += v;\n            }\n          }\n          b[a.column] || (b[a.column] = this.createNodeColumn());\n          b[a.column].push(a);\n        }, this);\n\n        for (var a = 0; a < b.length; a++) \"undefined\" === typeof b[a] && (b[a] = this.createNodeColumn());\n\n        return b;\n      };\n\n      e.prototype.generatePoints = function () {\n        function b(a, c) {\n          \"undefined\" === typeof a.level && (a.level = c, a.linksFrom.forEach(function (a) {\n            a.toNode && b(a.toNode, c + 1);\n          }));\n        }\n\n        k.generatePoints.apply(this, arguments);\n        this.orderNodes && (this.nodes.filter(function (b) {\n          return 0 === b.linksTo.length;\n        }).forEach(function (a) {\n          b(a, 0);\n        }), t(this.nodes, function (b, a) {\n          return b.level - a.level;\n        }));\n      };\n\n      e.prototype.getNodePadding = function () {\n        var b = this.options.nodePadding || 0;\n\n        if (this.nodeColumns) {\n          var a = this.nodeColumns.reduce(function (b, a) {\n            return Math.max(b, a.length);\n          }, 0);\n          a * b > this.chart.plotSizeY && (b = this.chart.plotSizeY / a);\n        }\n\n        return b;\n      };\n\n      e.prototype.hasData = function () {\n        return !!this.processedXData.length;\n      };\n\n      e.prototype.pointAttribs = function (b, a) {\n        if (!b) return {};\n        var h = this,\n            d = h.mapOptionsToLevel[(b.isNode ? b.level : b.fromNode.level) || 0] || {},\n            e = b.options,\n            g = d.states && d.states[a || \"\"] || {};\n        a = [\"colorByPoint\", \"borderColor\", \"borderWidth\", \"linkOpacity\"].reduce(function (b, a) {\n          b[a] = f(g[a], e[a], d[a], h.options[a]);\n          return b;\n        }, {});\n        var r = f(g.color, e.color, a.colorByPoint ? b.color : d.color);\n        return b.isNode ? {\n          fill: r,\n          stroke: a.borderColor,\n          \"stroke-width\": a.borderWidth\n        } : {\n          fill: c.parse(r).setOpacity(a.linkOpacity).get()\n        };\n      };\n\n      e.prototype.render = function () {\n        var a = this.points;\n        this.points = this.points.concat(this.nodes || []);\n        b.prototype.render.call(this);\n        this.points = a;\n      };\n\n      e.prototype.translate = function () {\n        var b = this,\n            a = function (a) {\n          for (var h = a.slice(), e = b.options.minLinkWidth || 0, g, r = 0, v, B = f.plotSizeY - d.borderWidth - (a.length - 1) * c.nodePadding; a.length;) {\n            r = B / a.sum();\n            g = !1;\n\n            for (v = a.length; v--;) a[v].getSum() * r < e && (a.splice(v, 1), B -= e, g = !0);\n\n            if (!g) break;\n          }\n\n          a.length = 0;\n          h.forEach(function (b) {\n            return a.push(b);\n          });\n          return r;\n        };\n\n        this.processedXData || this.processData();\n        this.generatePoints();\n        this.nodeColumns = this.createNodeColumns();\n        this.nodeWidth = g(this.options.nodeWidth, this.chart.plotSizeX);\n        var c = this,\n            f = this.chart,\n            d = this.options,\n            e = this.nodeWidth,\n            r = this.nodeColumns;\n        this.nodePadding = this.getNodePadding();\n        this.translationFactor = r.reduce(function (b, c) {\n          return Math.min(b, a(c));\n        }, Infinity);\n        this.colDistance = (f.plotSizeX - e - d.borderWidth) / Math.max(1, r.length - 1);\n        c.mapOptionsToLevel = q({\n          from: 1,\n          levels: d.levels,\n          to: r.length - 1,\n          defaults: {\n            borderColor: d.borderColor,\n            borderRadius: d.borderRadius,\n            borderWidth: d.borderWidth,\n            color: c.color,\n            colorByPoint: d.colorByPoint,\n            levelIsConstant: !0,\n            linkColor: d.linkColor,\n            linkLineWidth: d.linkLineWidth,\n            linkOpacity: d.linkOpacity,\n            states: d.states\n          }\n        });\n        r.forEach(function (a) {\n          a.forEach(function (b) {\n            c.translateNode(b, a);\n          });\n        }, this);\n        this.nodes.forEach(function (a) {\n          a.linksFrom.forEach(function (a) {\n            (a.weight || a.isNull) && a.to && (c.translateLink(a), a.allowShadow = !1);\n          });\n        });\n      };\n\n      e.prototype.translateLink = function (a) {\n        var b = function (b, c) {\n          c = b.offset(a, c) * h;\n          return Math.min(b.nodeY + c, b.nodeY + (b.shapeArgs && b.shapeArgs.height || 0) - e);\n        },\n            c = a.fromNode,\n            d = a.toNode,\n            f = this.chart,\n            h = this.translationFactor,\n            e = Math.max(a.weight * h, this.options.minLinkWidth),\n            g = (f.inverted ? -this.colDistance : this.colDistance) * this.options.curveFactor,\n            p = b(c, \"linksFrom\");\n\n        b = b(d, \"linksTo\");\n        var k = c.nodeX,\n            l = this.nodeWidth;\n        d = d.nodeX;\n        var n = a.outgoing,\n            m = d > k + l;\n        f.inverted && (p = f.plotSizeY - p, b = (f.plotSizeY || 0) - b, l = -l, e = -e, m = k > d);\n        a.shapeType = \"path\";\n        a.linkBase = [p, p + e, b, b + e];\n        if (m && \"number\" === typeof b) a.shapeArgs = {\n          d: [[\"M\", k + l, p], [\"C\", k + l + g, p, d - g, b, d, b], [\"L\", d + (n ? l : 0), b + e / 2], [\"L\", d, b + e], [\"C\", d - g, b + e, k + l + g, p + e, k + l, p + e], [\"Z\"]]\n        };else if (\"number\" === typeof b) {\n          g = d - 20 - e;\n          n = d - 20;\n          m = k + l;\n          var q = m + 20,\n              t = q + e,\n              w = p,\n              u = p + e,\n              y = u + 20,\n              x = y + (f.plotHeight - p - e),\n              z = x + 20,\n              F = z + e,\n              A = b,\n              E = A + e,\n              C = E + 20,\n              D = z + .7 * e,\n              H = d - .7 * e,\n              I = m + .7 * e;\n          a.shapeArgs = {\n            d: [[\"M\", m, w], [\"C\", I, w, t, u - .7 * e, t, y], [\"L\", t, x], [\"C\", t, D, I, F, m, F], [\"L\", d, F], [\"C\", H, F, g, D, g, x], [\"L\", g, C], [\"C\", g, E - .7 * e, H, A, d, A], [\"L\", d, E], [\"C\", n, E, n, E, n, C], [\"L\", n, x], [\"C\", n, z, n, z, d, z], [\"L\", m, z], [\"C\", q, z, q, z, q, x], [\"L\", q, y], [\"C\", q, u, q, u, m, u], [\"Z\"]]\n          };\n        }\n        a.dlBox = {\n          x: k + (d - k + l) / 2,\n          y: p + (b - p) / 2,\n          height: e,\n          width: 0\n        };\n        a.tooltipPos = f.inverted ? [f.plotSizeY - a.dlBox.y - e / 2, f.plotSizeX - a.dlBox.x] : [a.dlBox.x, a.dlBox.y + e / 2];\n        a.y = a.plotY = 1;\n        a.color || (a.color = c.color);\n      };\n\n      e.prototype.translateNode = function (a, b) {\n        var c = this.translationFactor,\n            d = this.chart,\n            h = this.options,\n            k = a.getSum(),\n            l = Math.max(Math.round(k * c), this.options.minLinkWidth),\n            n = Math.round(this.nodeWidth),\n            p = Math.round(h.borderWidth) % 2 / 2,\n            m = b.offset(a, c);\n        b = Math.floor(f(m.absoluteTop, b.top(c) + m.relativeTop)) + p;\n        p = Math.floor(this.colDistance * a.column + h.borderWidth / 2) + g(a.options.offsetHorizontal || 0, n) + p;\n        p = d.inverted ? d.plotSizeX - p : p;\n\n        if (a.sum = k) {\n          a.shapeType = \"rect\";\n          a.nodeX = p;\n          a.nodeY = b;\n          k = p;\n          c = b;\n          m = a.options.width || h.width || n;\n          var q = a.options.height || h.height || l;\n          d.inverted && (k = p - n, c = d.plotSizeY - b - l, m = a.options.height || h.height || n, q = a.options.width || h.width || l);\n          a.dlOptions = e.getDLOptions({\n            level: this.mapOptionsToLevel[a.level],\n            optionsPoint: a.options\n          });\n          a.plotX = 1;\n          a.plotY = 1;\n          a.tooltipPos = d.inverted ? [d.plotSizeY - c - q / 2, d.plotSizeX - k - m / 2] : [k + m / 2, c + q / 2];\n          a.shapeArgs = {\n            x: k,\n            y: c,\n            width: m,\n            height: q,\n            display: a.hasShape() ? \"\" : \"none\"\n          };\n        } else a.dlOptions = {\n          enabled: !1\n        };\n      };\n\n      e.defaultOptions = D(b.defaultOptions, {\n        borderWidth: 0,\n        colorByPoint: !0,\n        curveFactor: .33,\n        dataLabels: {\n          enabled: !0,\n          backgroundColor: \"none\",\n          crop: !1,\n          nodeFormat: void 0,\n          nodeFormatter: function () {\n            return this.point.name;\n          },\n          format: void 0,\n          formatter: function () {},\n          inside: !0\n        },\n        inactiveOtherPoints: !0,\n        linkOpacity: .5,\n        minLinkWidth: 0,\n        nodeWidth: 20,\n        nodePadding: 10,\n        showInLegend: !1,\n        states: {\n          hover: {\n            linkOpacity: 1\n          },\n          inactive: {\n            linkOpacity: .1,\n            opacity: .1,\n            animation: {\n              duration: 50\n            }\n          }\n        },\n        tooltip: {\n          followPointer: !0,\n          headerFormat: '<span style=\"font-size: 10px\">{series.name}</span><br/>',\n          pointFormat: \"{point.fromNode.name} \\u2192 {point.toNode.name}: <b>{point.weight}</b><br/>\",\n          nodeFormat: \"{point.name}: <b>{point.sum}</b><br/>\"\n        }\n      });\n      return e;\n    }(b);\n\n    k.compose(l, d);\n    w(d.prototype, {\n      animate: m.prototype.animate,\n      createNode: k.createNode,\n      forceDL: !0,\n      invertible: !0,\n      isCartesian: !1,\n      orderNodes: !0,\n      noSharedTooltip: !0,\n      pointArrayMap: [\"from\", \"to\"],\n      pointClass: l,\n      searchPoint: e.noop\n    });\n    n.registerSeriesType(\"sankey\", d);\n    \"\";\n    \"\";\n    return d;\n  });\n  n(c, \"masters/modules/sankey.src.js\", [], function () {});\n});","map":{"version":3,"sources":["sankey.src.js"],"names":["module","factory","define","Highcharts","undefined","_modules","_registerModule","obj","fn","defined","U","extend","find","pick","NodesComposition","composedClasses","compose","pointProto","PointClass","setNodeState","seriesProto","SeriesClass","destroy","createNode","findById","node","options","init","className","isNode","id","y","node.getSum","sumTo","sumFrom","link","Math","node.offset","offset","i","node.hasShape","outgoing","Series","generatePoints","chart","nodeLookup","point","setData","args","others","linkOrNode","Point","__extends","extendStatics","Object","__proto__","d","p","b","__","SeriesRegistry","SankeyPoint","_this","_super","SankeyPoint.prototype.applyOptions","SankeyPoint.prototype.getClassName","SankeyPoint.prototype.isValid","prototype","isArray","isNumber","isObject","merge","getColor","index","mapOptionsToLevel","parentColor","parentColorIndex","series","colors","siblings","points","chartOptionsChart","color","colorVariation","level","Color","getColorByPoint","colorByPoint","colorIndex","getLevelOptions","result","params","converted","item","defaults","levelIsConstant","from","to","setTreeValues","before","idRoot","nodeRoot","tree","optionsPoint","children","childrenTotal","newOptions","visible","child","value","updateRootId","rootId","TreeUtilities","ColumnSeries","TU","relativeLength","stableSort","SankeySeries","SankeySeries.getDLOptions","optionsLevel","style","SankeySeries.prototype.createNodeColumn","column","column.sum","sum","column.offset","nodePadding","height","directionOffset","optionOffset","totalNodeOffset","relativeTop","column.top","nodeHeight","SankeySeries.prototype.createNodeColumns","columns","fromColumn","fromNode","i_1","found","SankeySeries.prototype.generatePoints","order","a","SankeySeries.prototype.getNodePadding","maxLength","col","SankeySeries.prototype.hasData","SankeySeries.prototype.pointAttribs","levelOptions","stateOptions","state","values","fill","stroke","SankeySeries.prototype.render","SankeySeries.prototype.translate","getColumnTranslationFactor","nodes","minLinkWidth","factor","remainingHeight","exceedsMinLinkWidth","nodeWidth","nodeColumns","levels","borderColor","borderRadius","borderWidth","linkColor","linkLineWidth","linkOpacity","states","linkPoint","SankeySeries.prototype.translateLink","getY","linkTop","translationFactor","toNode","linkHeight","curvy","fromY","toY","nodeLeft","nodeW","right","straight","bend","x1","x2","x4","x5","x6","fy1","fy2","fy3","y4","y5","y6","ty1","ty2","ty3","cy2","cx1","cx2","x","width","SankeySeries.prototype.translateNode","crisp","nodeOffset","fromNodeTop","left","display","enabled","curveFactor","dataLabels","backgroundColor","crop","nodeFormat","nodeFormatter","format","formatter","inside","inactiveOtherPoints","showInLegend","hover","inactive","opacity","animation","duration","tooltip","followPointer","headerFormat","pointFormat","animate","forceDL","invertible","isCartesian","orderNodes","noSharedTooltip","pointArrayMap","pointClass","searchPoint","H"],"mappings":"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","sourcesContent":["/*\n Highcharts JS v9.3.1 (2021-11-05)\n\n Sankey diagram module\n\n (c) 2010-2021 Torstein Honsi\n\n License: www.highcharts.com/license\n*/\n'use strict';(function(c){\"object\"===typeof module&&module.exports?(c[\"default\"]=c,module.exports=c):\"function\"===typeof define&&define.amd?define(\"highcharts/modules/sankey\",[\"highcharts\"],function(n){c(n);c.Highcharts=n;return c}):c(\"undefined\"!==typeof Highcharts?Highcharts:void 0)})(function(c){function n(c,e,k,l){c.hasOwnProperty(e)||(c[e]=l.apply(null,k))}c=c?c._modules:{};n(c,\"Series/NodesComposition.js\",[c[\"Core/Series/Point.js\"],c[\"Core/Series/Series.js\"],c[\"Core/Utilities.js\"]],function(c,\ne,k){var l=k.defined,u=k.extend,w=k.find,d=k.pick,a;(function(a){function b(){this.data=[].concat(this.points||[],this.nodes);return e.prototype.destroy.apply(this,arguments)}function q(){this.nodes&&(this.nodes.forEach(function(b){b.destroy()}),this.nodes.length=0);e.prototype.setData.apply(this,arguments)}function m(b){var a=arguments,f=this.isNode?this.linksTo.concat(this.linksFrom):[this.fromNode,this.toNode];\"select\"!==b&&f.forEach(function(b){b&&b.series&&(c.prototype.setState.apply(b,a),b.isNode||\n(b.fromNode.graphic&&c.prototype.setState.apply(b.fromNode,a),b.toNode&&b.toNode.graphic&&c.prototype.setState.apply(b.toNode,a)))});c.prototype.setState.apply(this,a)}var x=[];a.compose=function(a,c){-1===x.indexOf(a)&&(x.push(a),a=a.prototype,a.setNodeState=m,a.setState=m);-1===x.indexOf(c)&&(x.push(c),a=c.prototype,a.destroy=b,a.setData=q);return c};a.createNode=function(b){var a=this.pointClass,f=function(b,a){return w(b,function(b){return b.id===a})},g=f(this.nodes,b);g||(f=this.options.nodes&&\nf(this.options.nodes,b),g=(new a).init(this,u({className:\"highcharts-node\",isNode:!0,id:b,y:1},f)),g.linksTo=[],g.linksFrom=[],g.formatPrefix=\"node\",g.name=g.name||g.options.id||\"\",g.mass=d(g.options.mass,g.options.marker&&g.options.marker.radius,this.options.marker&&this.options.marker.radius,4),g.getSum=function(){var b=0,a=0;g.linksTo.forEach(function(a){b+=a.weight});g.linksFrom.forEach(function(b){a+=b.weight});return Math.max(b,a)},g.offset=function(b,a){for(var f=0,h=0;h<g[a].length;h++){if(g[a][h]===\nb)return f;f+=g[a][h].weight}},g.hasShape=function(){var b=0;g.linksTo.forEach(function(a){a.outgoing&&b++});return!g.linksTo.length||b!==g.linksTo.length},this.nodes.push(g));return g};a.destroy=b;a.generatePoints=function(){var b=this.chart,a={};e.prototype.generatePoints.call(this);this.nodes||(this.nodes=[]);this.colorCounter=0;this.nodes.forEach(function(b){b.linksFrom.length=0;b.linksTo.length=0;b.level=b.options.level});this.points.forEach(function(f){l(f.from)&&(a[f.from]||(a[f.from]=this.createNode(f.from)),\na[f.from].linksFrom.push(f),f.fromNode=a[f.from],b.styledMode?f.colorIndex=d(f.options.colorIndex,a[f.from].colorIndex):f.color=f.options.color||a[f.from].color);l(f.to)&&(a[f.to]||(a[f.to]=this.createNode(f.to)),a[f.to].linksTo.push(f),f.toNode=a[f.to]);f.name=f.name||f.id},this);this.nodeLookup=a};a.setNodeState=m})(a||(a={}));return a});n(c,\"Series/Sankey/SankeyPoint.js\",[c[\"Core/Series/Point.js\"],c[\"Core/Series/SeriesRegistry.js\"],c[\"Core/Utilities.js\"]],function(c,e,k){var l=this&&this.__extends||\nfunction(){var c=function(d,a){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return c(d,a)};return function(d,a){function e(){this.constructor=d}c(d,a);d.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),u=k.defined;return function(e){function d(){var a=null!==e&&e.apply(this,arguments)||this;a.className=void 0;a.fromNode=void 0;a.level=void 0;a.linkBase=void 0;a.linksFrom=\nvoid 0;a.linksTo=void 0;a.mass=void 0;a.nodeX=void 0;a.nodeY=void 0;a.options=void 0;a.series=void 0;a.toNode=void 0;return a}l(d,e);d.prototype.applyOptions=function(a,d){c.prototype.applyOptions.call(this,a,d);u(this.options.level)&&(this.options.column=this.column=this.options.level);return this};d.prototype.getClassName=function(){return(this.isNode?\"highcharts-node \":\"highcharts-link \")+c.prototype.getClassName.call(this)};d.prototype.isValid=function(){return this.isNode||\"number\"===typeof this.weight};\nreturn d}(e.seriesTypes.column.prototype.pointClass)});n(c,\"Series/TreeUtilities.js\",[c[\"Core/Color/Color.js\"],c[\"Core/Utilities.js\"]],function(c,e){function k(b,a){var c=a.before,d=a.idRoot,e=a.mapIdToNode[d],q=a.points[b.i],f=q&&q.options||{},g=[],t=0;b.levelDynamic=b.level-(!1!==a.levelIsConstant?0:e.level);b.name=m(q&&q.name,\"\");b.visible=d===b.id||!0===a.visible;\"function\"===typeof c&&(b=c(b,a));b.children.forEach(function(c,f){var h=l({},a);l(h,{index:f,siblings:b.children.length,visible:b.visible});\nc=k(c,h);g.push(c);c.visible&&(t+=c.val)});c=m(f.value,t);b.visible=0<=c&&(0<t||b.visible);b.children=g;b.childrenTotal=t;b.isLeaf=b.visible&&!t;b.val=c;return b}var l=e.extend,u=e.isArray,w=e.isNumber,d=e.isObject,a=e.merge,m=e.pick;return{getColor:function(b,a){var d=a.index,e=a.mapOptionsToLevel,q=a.parentColor,k=a.parentColorIndex,f=a.series,g=a.colors,t=a.siblings,y=f.points,A=f.chart.options.chart,h;if(b){y=y[b.i];b=e[b.level]||{};if(e=y&&b.colorByPoint){var v=y.index%(g?g.length:A.colorCount);\nvar G=g&&g[v]}if(!f.chart.styledMode){g=y&&y.options.color;A=b&&b.color;if(h=q)h=(h=b&&b.colorVariation)&&\"brightness\"===h.key&&d&&t?c.parse(q).brighten(d/t*h.to).get():q;h=m(g,A,G,h,f.color)}var B=m(y&&y.options.colorIndex,b&&b.colorIndex,v,k,a.colorIndex)}return{color:h,colorIndex:B}},getLevelOptions:function(b){var c=null;if(d(b)){c={};var e=w(b.from)?b.from:1;var k=b.levels;var l={};var n=d(b.defaults)?b.defaults:{};u(k)&&(l=k.reduce(function(b,c){if(d(c)&&w(c.level)){var f=a({},c);var g=m(f.levelIsConstant,\nn.levelIsConstant);delete f.levelIsConstant;delete f.level;c=c.level+(g?0:e-1);d(b[c])?a(!0,b[c],f):b[c]=f}return b},{}));k=w(b.to)?b.to:1;for(b=0;b<=k;b++)c[b]=a({},n,d(l[b])?l[b]:{})}return c},setTreeValues:k,updateRootId:function(b){if(d(b)){var a=d(b.options)?b.options:{};a=m(b.rootNode,a.rootId,\"\");d(b.userOptions)&&(b.userOptions.rootId=a);b.rootNode=a}return a}}});n(c,\"Series/Sankey/SankeySeries.js\",[c[\"Core/Color/Color.js\"],c[\"Core/Globals.js\"],c[\"Series/NodesComposition.js\"],c[\"Series/Sankey/SankeyPoint.js\"],\nc[\"Core/Series/SeriesRegistry.js\"],c[\"Series/TreeUtilities.js\"],c[\"Core/Utilities.js\"]],function(c,e,k,l,n,w,d){var a=this&&this.__extends||function(){var b=function(a,h){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,b){h.__proto__=b}||function(h,b){for(var a in b)b.hasOwnProperty(a)&&(h[a]=b[a])};return b(a,h)};return function(a,h){function c(){this.constructor=a}b(a,h);a.prototype=null===h?Object.create(h):(c.prototype=h.prototype,new c)}}(),m=n.series,b=n.seriesTypes.column,\nq=w.getLevelOptions,u=d.defined;w=d.extend;var x=d.find,C=d.isObject,D=d.merge,f=d.pick,g=d.relativeLength,t=d.stableSort;d=function(d){function e(){var b=null!==d&&d.apply(this,arguments)||this;b.colDistance=void 0;b.data=void 0;b.group=void 0;b.nodeLookup=void 0;b.nodePadding=void 0;b.nodes=void 0;b.nodeWidth=void 0;b.options=void 0;b.points=void 0;b.translationFactor=void 0;return b}a(e,d);e.getDLOptions=function(b){var a=C(b.optionsPoint)?b.optionsPoint.dataLabels:{};b=C(b.level)?b.level.dataLabels:\n{};return D({style:{}},b,a)};e.prototype.createNodeColumn=function(){var b=this,a=this.chart,c=[];c.sum=function(){return this.reduce(function(b,a){return b+a.getSum()},0)};c.offset=function(h,f){for(var v=0,r,d=b.nodePadding,p=0;p<c.length;p++){r=c[p].getSum();var e=Math.max(r*f,b.options.minLinkWidth),B=h.options[a.inverted?\"offsetHorizontal\":\"offsetVertical\"],G=h.options.offset||0;r=r?e+d:0;if(c[p]===h)return{relativeTop:v+(u(B)?g(B,e):g(G,r))};v+=r}};c.top=function(h){var c=b.nodePadding,f=this.reduce(function(a,\nf){0<a&&(a+=c);f=Math.max(f.getSum()*h,b.options.minLinkWidth);return a+f},0);return(a.plotSizeY-f)/2};return c};e.prototype.createNodeColumns=function(){var b=[];this.nodes.forEach(function(a){var c=-1;if(!u(a.options.column))if(0===a.linksTo.length)a.column=0;else{for(var h=0;h<a.linksTo.length;h++){var f=a.linksTo[h];if(f.fromNode.column>c&&f.fromNode!==a){var d=f.fromNode;c=d.column}}a.column=c+1;if(d&&\"hanging\"===d.options.layout){a.hangsFrom=d;var v=-1;x(d.linksFrom,function(b,c){(b=b.toNode===\na)&&(v=c);return b});a.column+=v}}b[a.column]||(b[a.column]=this.createNodeColumn());b[a.column].push(a)},this);for(var a=0;a<b.length;a++)\"undefined\"===typeof b[a]&&(b[a]=this.createNodeColumn());return b};e.prototype.generatePoints=function(){function b(a,c){\"undefined\"===typeof a.level&&(a.level=c,a.linksFrom.forEach(function(a){a.toNode&&b(a.toNode,c+1)}))}k.generatePoints.apply(this,arguments);this.orderNodes&&(this.nodes.filter(function(b){return 0===b.linksTo.length}).forEach(function(a){b(a,\n0)}),t(this.nodes,function(b,a){return b.level-a.level}))};e.prototype.getNodePadding=function(){var b=this.options.nodePadding||0;if(this.nodeColumns){var a=this.nodeColumns.reduce(function(b,a){return Math.max(b,a.length)},0);a*b>this.chart.plotSizeY&&(b=this.chart.plotSizeY/a)}return b};e.prototype.hasData=function(){return!!this.processedXData.length};e.prototype.pointAttribs=function(b,a){if(!b)return{};var h=this,d=h.mapOptionsToLevel[(b.isNode?b.level:b.fromNode.level)||0]||{},e=b.options,\ng=d.states&&d.states[a||\"\"]||{};a=[\"colorByPoint\",\"borderColor\",\"borderWidth\",\"linkOpacity\"].reduce(function(b,a){b[a]=f(g[a],e[a],d[a],h.options[a]);return b},{});var r=f(g.color,e.color,a.colorByPoint?b.color:d.color);return b.isNode?{fill:r,stroke:a.borderColor,\"stroke-width\":a.borderWidth}:{fill:c.parse(r).setOpacity(a.linkOpacity).get()}};e.prototype.render=function(){var a=this.points;this.points=this.points.concat(this.nodes||[]);b.prototype.render.call(this);this.points=a};e.prototype.translate=\nfunction(){var b=this,a=function(a){for(var h=a.slice(),e=b.options.minLinkWidth||0,g,r=0,v,B=f.plotSizeY-d.borderWidth-(a.length-1)*c.nodePadding;a.length;){r=B/a.sum();g=!1;for(v=a.length;v--;)a[v].getSum()*r<e&&(a.splice(v,1),B-=e,g=!0);if(!g)break}a.length=0;h.forEach(function(b){return a.push(b)});return r};this.processedXData||this.processData();this.generatePoints();this.nodeColumns=this.createNodeColumns();this.nodeWidth=g(this.options.nodeWidth,this.chart.plotSizeX);var c=this,f=this.chart,\nd=this.options,e=this.nodeWidth,r=this.nodeColumns;this.nodePadding=this.getNodePadding();this.translationFactor=r.reduce(function(b,c){return Math.min(b,a(c))},Infinity);this.colDistance=(f.plotSizeX-e-d.borderWidth)/Math.max(1,r.length-1);c.mapOptionsToLevel=q({from:1,levels:d.levels,to:r.length-1,defaults:{borderColor:d.borderColor,borderRadius:d.borderRadius,borderWidth:d.borderWidth,color:c.color,colorByPoint:d.colorByPoint,levelIsConstant:!0,linkColor:d.linkColor,linkLineWidth:d.linkLineWidth,\nlinkOpacity:d.linkOpacity,states:d.states}});r.forEach(function(a){a.forEach(function(b){c.translateNode(b,a)})},this);this.nodes.forEach(function(a){a.linksFrom.forEach(function(a){(a.weight||a.isNull)&&a.to&&(c.translateLink(a),a.allowShadow=!1)})})};e.prototype.translateLink=function(a){var b=function(b,c){c=b.offset(a,c)*h;return Math.min(b.nodeY+c,b.nodeY+(b.shapeArgs&&b.shapeArgs.height||0)-e)},c=a.fromNode,d=a.toNode,f=this.chart,h=this.translationFactor,e=Math.max(a.weight*h,this.options.minLinkWidth),\ng=(f.inverted?-this.colDistance:this.colDistance)*this.options.curveFactor,p=b(c,\"linksFrom\");b=b(d,\"linksTo\");var k=c.nodeX,l=this.nodeWidth;d=d.nodeX;var n=a.outgoing,m=d>k+l;f.inverted&&(p=f.plotSizeY-p,b=(f.plotSizeY||0)-b,l=-l,e=-e,m=k>d);a.shapeType=\"path\";a.linkBase=[p,p+e,b,b+e];if(m&&\"number\"===typeof b)a.shapeArgs={d:[[\"M\",k+l,p],[\"C\",k+l+g,p,d-g,b,d,b],[\"L\",d+(n?l:0),b+e/2],[\"L\",d,b+e],[\"C\",d-g,b+e,k+l+g,p+e,k+l,p+e],[\"Z\"]]};else if(\"number\"===typeof b){g=d-20-e;n=d-20;m=k+l;var q=m+20,\nt=q+e,w=p,u=p+e,y=u+20,x=y+(f.plotHeight-p-e),z=x+20,F=z+e,A=b,E=A+e,C=E+20,D=z+.7*e,H=d-.7*e,I=m+.7*e;a.shapeArgs={d:[[\"M\",m,w],[\"C\",I,w,t,u-.7*e,t,y],[\"L\",t,x],[\"C\",t,D,I,F,m,F],[\"L\",d,F],[\"C\",H,F,g,D,g,x],[\"L\",g,C],[\"C\",g,E-.7*e,H,A,d,A],[\"L\",d,E],[\"C\",n,E,n,E,n,C],[\"L\",n,x],[\"C\",n,z,n,z,d,z],[\"L\",m,z],[\"C\",q,z,q,z,q,x],[\"L\",q,y],[\"C\",q,u,q,u,m,u],[\"Z\"]]}}a.dlBox={x:k+(d-k+l)/2,y:p+(b-p)/2,height:e,width:0};a.tooltipPos=f.inverted?[f.plotSizeY-a.dlBox.y-e/2,f.plotSizeX-a.dlBox.x]:[a.dlBox.x,a.dlBox.y+\ne/2];a.y=a.plotY=1;a.color||(a.color=c.color)};e.prototype.translateNode=function(a,b){var c=this.translationFactor,d=this.chart,h=this.options,k=a.getSum(),l=Math.max(Math.round(k*c),this.options.minLinkWidth),n=Math.round(this.nodeWidth),p=Math.round(h.borderWidth)%2/2,m=b.offset(a,c);b=Math.floor(f(m.absoluteTop,b.top(c)+m.relativeTop))+p;p=Math.floor(this.colDistance*a.column+h.borderWidth/2)+g(a.options.offsetHorizontal||0,n)+p;p=d.inverted?d.plotSizeX-p:p;if(a.sum=k){a.shapeType=\"rect\";a.nodeX=\np;a.nodeY=b;k=p;c=b;m=a.options.width||h.width||n;var q=a.options.height||h.height||l;d.inverted&&(k=p-n,c=d.plotSizeY-b-l,m=a.options.height||h.height||n,q=a.options.width||h.width||l);a.dlOptions=e.getDLOptions({level:this.mapOptionsToLevel[a.level],optionsPoint:a.options});a.plotX=1;a.plotY=1;a.tooltipPos=d.inverted?[d.plotSizeY-c-q/2,d.plotSizeX-k-m/2]:[k+m/2,c+q/2];a.shapeArgs={x:k,y:c,width:m,height:q,display:a.hasShape()?\"\":\"none\"}}else a.dlOptions={enabled:!1}};e.defaultOptions=D(b.defaultOptions,\n{borderWidth:0,colorByPoint:!0,curveFactor:.33,dataLabels:{enabled:!0,backgroundColor:\"none\",crop:!1,nodeFormat:void 0,nodeFormatter:function(){return this.point.name},format:void 0,formatter:function(){},inside:!0},inactiveOtherPoints:!0,linkOpacity:.5,minLinkWidth:0,nodeWidth:20,nodePadding:10,showInLegend:!1,states:{hover:{linkOpacity:1},inactive:{linkOpacity:.1,opacity:.1,animation:{duration:50}}},tooltip:{followPointer:!0,headerFormat:'<span style=\"font-size: 10px\">{series.name}</span><br/>',\npointFormat:\"{point.fromNode.name} \\u2192 {point.toNode.name}: <b>{point.weight}</b><br/>\",nodeFormat:\"{point.name}: <b>{point.sum}</b><br/>\"}});return e}(b);k.compose(l,d);w(d.prototype,{animate:m.prototype.animate,createNode:k.createNode,forceDL:!0,invertible:!0,isCartesian:!1,orderNodes:!0,noSharedTooltip:!0,pointArrayMap:[\"from\",\"to\"],pointClass:l,searchPoint:e.noop});n.registerSeriesType(\"sankey\",d);\"\";\"\";return d});n(c,\"masters/modules/sankey.src.js\",[],function(){})});\n//# sourceMappingURL=sankey.js.map"]},"metadata":{},"sourceType":"script"}