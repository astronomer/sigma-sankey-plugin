"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const initialize_1 = require("./initialize");
describe('initialize', () => {
    let originalAddEventListener;
    let originalRemoveEventListener;
    beforeAll(() => {
        originalAddEventListener = window.addEventListener;
        originalRemoveEventListener = window.removeEventListener;
        window.addEventListener = jest.fn();
        window.removeEventListener = jest.fn();
    });
    beforeEach(() => {
        jest.resetAllMocks();
    });
    test('should initialize and be destroyable', () => {
        const client = initialize_1.initialize();
        expect(window.addEventListener).toHaveBeenCalled();
        client.destroy();
        expect(window.removeEventListener).toHaveBeenCalled();
    });
    afterAll(() => {
        window.addEventListener = originalAddEventListener;
        window.removeEventListener = originalRemoveEventListener;
    });
});
